{% comment %}
{{ 'home-bestsellers.css' | asset_url | stylesheet_tag }}
{% endcomment %}

{% if section.settings.banner_modular_image %}
  
  <div class="banner_modular_image_group" style="background:url({{ section.settings.banner_modular_image | img_url: '1920x475' }}) #F7F7F7">
    <h1>We Give You The Best <strong>Price & Value</strong> For Your <strong>IT Needs</strong></h1>
  </div>

{% elsif section.settings.banner_modular_collection %}

  <div class="banner_modular_collection_group" >
    <h1>We Give You The Worst <strong>Fuck off</strong> For Your <strong>IT Needs</strong></h1>
    <ul class="home-bestsellers-list">
      {%- for product in section.settings.banner_modular_collection.products -%}
        {% assign variant = product.first_available_variant %}
        <li class="home-bestsellers--product-card">
          <div class="hbpc-image">
            <img class="lazyload" data-src="{{ product.featured_image | image_url }}" alt="{{ product.title }}" />
          </div>
          <span class="hbpc-title">{{ product.title }}</span>
          <div class="hbpc-price-box">
            <span class="hbpc-final-price">
              {{ variant.price | money_with_currency }}
            </span>
            {%- if variant.compare_at_price > 0 and variant.compare_at_price > variant.price -%}
              <span class="hbpc-old-price">
                {{ variant.compare_at_price | money_with_currency }}
              </span>
            {%- endif -%}
          </div>
          <div class="hbpc-actions">
              <a href="{{ product.url }}" class="hbpc-action-view">Shop Now</a>
              <button class="hbpc-action-cart" data-target="{{ variant.id }}">
                  <img src="{{ 'bestseller-shopping-cart.svg' | asset_url }}" alt="Add To Cart" />
              </button>
          </div>
        </li>
      {%- endfor -%}
    </ul>
  </div> 

{% endif %}

{% comment %}
<script type="text/javascript">
    jQuery( document ).ready(function() {
        jQuery('.home-bestsellers-list').slick({
            infinite: false,
            slidesToShow: 3,
            slidesToScroll: 1,
            dots: true,
            arrows: false,
            responsive: [
                {
                    breakpoint: 1200,
                    settings: {
                        slidesToShow: 3,
                        slidesToScroll: 3,
                        infinite: true,
                        dots: true
                    }
                },
                {
                    breakpoint: 600,
                    settings: {
                        slidesToShow: 1,
                        slidesToScroll: 1
                    }
                }
            ]
        });
    });
</script>
{% endcomment %}

{% schema %}
    {
      "name": "ModularBanner",
      "tag": "section",
      "class": "home-banner",
      "limit": 1,
      "settings": [
          {
            "type": "header",
            "content": "Settings"
          },
          {
            "type": "image_picker",
            "id": "banner_modular_image",
            "label": "Banner Modular Image"
          },
          {
            "type": "collection",
            "id": "banner_modular_collection",
            "label": "Banner Modular Collection"
          },
          {
            "type": "text",
            "id": "banner_modular_title",
            "label": "Banner Modular Title"
          }
      ],
      "locales": {
      "en": {
      "title": "Banner Home"
        }
      }
    }
{% endschema %}
